Game server current UTC time: 2025-06-19 22:17:16.366377+00:00
 * Serving Flask app 'server'
 * Debug mode: on
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.12.239:5001
Press CTRL+C to quit
 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: 301-864-230
--> Incoming request: POST /api/message
Game server current UTC time: 2025-06-19 22:17:17.032376+00:00
Request JSON: {'message': 'I want to buy 2 coconuts'}
<-- Response status: 500 INTERNAL SERVER ERROR
Received access_token from cookie: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo3LCJlbWFpbCI6ImFudGxhdzBAZ21haWwuY29tIiwiZXhwIjoxNzUwNDUxOTEwfQ.aj3ofyNAdrNzu897bOAVWpZyiR2700HFd0LbRP3TPp4
[INFO] /api/message route hit
[DEBUG] Incoming data: {'message': 'I want to buy 2 coconuts'}
[TOKENS] System Prompt: 1530
[TOKENS] Chat History: 2
[TOKENS] Latest User Message: 9
[TOKENS] Total Prompt Tokens: 1541
Groq response status code: 400
Groq response raw text: '{"error":{"message":"\'messages\' : value must be an array","type":"invalid_request_error"}}\n'
Groq response JSON try:
{
  "error": {
    "message": "'messages' : value must be an array",
    "type": "invalid_request_error"
  }
}
[FATAL] Exception in /api/message
Traceback (most recent call last):
  File "C:\Users\alawl\Desktop\Game Dev Projects\AI Game\ai-game\server.py", line 628, in message
    response = call_groq_api(payload)
  File "C:\Users\alawl\Desktop\Game Dev Projects\AI Game\ai-game\server.py", line 382, in call_groq_api
    raise ValueError(f"Groq API request failed with status {response.status_code}")
ValueError: Groq API request failed with status 400

127.0.0.1 - - [19/Jun/2025 17:17:36] "POST /api/message HTTP/1.1" 500 -
